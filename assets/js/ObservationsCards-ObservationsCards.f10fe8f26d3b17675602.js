(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ObservationsCards-ObservationsCards"],{"03A+":function(e,t,a){var n=a("JTzB"),r=a("ExA7"),i=Object.prototype,o=i.hasOwnProperty,c=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return r(e)&&o.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},"1yxP":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return s}));var n="#006edb",r="#9ecfff",i="#627982",o="#006edb",c="#c60000",s="#21292b"},BiGR:function(e,t,a){var n=a("nmnc"),r=a("03A+"),i=a("Z0cm"),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(o&&e&&e[o])}},CH3K:function(e,t){e.exports=function(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}},JKOL:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a.n(n),i=a("lIgQ"),o=(a("a2cP"),function(){return r.a.createElement("svg",{className:"precipitation-bar-graph-svg-defs"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"0%",style:{stopOpacity:1,stopColor:i.e}}),r.a.createElement("stop",{offset:"100%",style:{stopOpacity:1,stopColor:i.f}})),r.a.createElement("linearGradient",{id:"lighterBarGradient",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"0%",style:{stopOpacity:.4,stopColor:i.e}}),r.a.createElement("stop",{offset:"100%",style:{stopOpacity:.4,stopColor:i.f}})),r.a.createElement("pattern",{id:"missingBarPattern",patternUnits:"userSpaceOnUse",width:4,height:4},r.a.createElement("line",{x1:"0",y1:"0",x2:4,y2:4,stroke:"black",style:{opacity:.25}}),r.a.createElement("line",{x1:"-1",y1:3,x2:"1",y2:5,stroke:"black",style:{opacity:.25}}),r.a.createElement("line",{x1:3,y1:"-1",x2:5,y2:"1",stroke:"black",style:{opacity:.25}}))))})},JTzB:function(e,t,a){var n=a("NykK"),r=a("ExA7"),i="[object Arguments]";e.exports=function(e){return r(e)&&n(e)==i}},TYy9:function(e,t,a){var n=a("XGnz");e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},VP7Q:function(e,t,a){"use strict";a.r(t);var n=a("v8/g"),r=a("2bzP"),i=a("JKOL"),o=a("FBcu"),c=a("fAui"),s=a("q1tI"),l=a.n(s),u=a("/MKj"),d=a("S8kc"),v=a("r0Wv"),m=Object(v.a)((function(e,t){var a=function(e){return e.observations}(e);return Object(v.b)(a,t)}),(function(e,t){return null==e.observationStationsByLocationId[t]?[]:e.observationStationsByLocationId[t].map((function(t){return e.observationStations[t]}))})),g=a("eR+e"),p=a("J4zp"),h=a.n(p),f=a("Pfsq"),b=a.n(f),E=a("EFXb"),y=a("aIUp"),_=a("1xnR"),x=a("i74f"),N=a("jJcU"),O=a("yGI6"),w=a("1D2o"),I=340,k=[3,4],C=function(e){var t=e.barInfo;return l.a.createElement("div",{className:"bar-graph-info"},t&&t.map((function(e){return l.a.createElement("div",{key:"".concat(e.type).concat(e.label),className:"bar-graph-legend-item"},l.a.createElement(j,{type:e.type,size:7}),e.label)})))};function j(e){var t="none";return"missing"===e.type?t="url(#missingBarPattern)":"precipitation"===e.type&&(t="url(#barGradient)"),l.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 ".concat(e.size," ").concat(e.size)},l.a.createElement("rect",{key:e.type,width:"100%",height:"100%",x:0,fill:t}))}var A=function(e){var t=e.labels,a=e.graphWidth,n=e.graphHeight,r=e.totalValues;return l.a.createElement("g",{transform:"translate(15,".concat(n+5,")"),width:a,height:20,className:"observations-bar-graph__axis-lines-units"},t.map((function(e,t){return l.a.createElement("text",{textAnchor:"middle",key:t,dx:5,dy:10,y:0,x:a/r*2*t},e)})))},B=function(e){var t=e.graphHeight,a=e.yAxisLinesAndLabels;return l.a.createElement("g",{height:t,width:10},a.map((function(e,t){return l.a.createElement("text",{textAnchor:"end",key:t,dx:-5,dy:3,x:15,y:e.yCord,className:"observations-bar-graph__axis-lines-units"},e.val)})))},S=a("0bCb"),P=function(e){var t=e.barPadding,a=void 0===t?4.5:t,n=e.bars,r=e.totalValues,i=e.showEvery,o=e.xAxisLabels,c=e.description,u=e.barInfo,d=l.a.createRef(),v=Object(s.useState)(void 0),m=h()(v,2),g=m[0],p=m[1];var f=n.filter(w.b).reduce(w.c,{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),b=Object(S.a)(f,k,100,!0);f=b.reduce(w.c,f);var E=b.map((function(e){return{yCord:60-Object(S.c)(e,f,60),val:e}})),y=n.map((function(e){return void 0!==e?Object(S.c)(e,f,60):void 0})).map((function(e,t){return{height:e,width:I/r-a,xPos:I/r*t}})),_=void 0!==g?y[g]:void 0,x=o;return i&&(x=o.map((function(e,t){return t%i==0?e:void 0})).filter(w.b)),l.a.createElement("div",{className:"observations-bar-graph",onMouseMove:function(t){if(null!==d.current){var a=t.clientX,n=d.current.getBoundingClientRect(),r=I/(e.totalValues-1),i=a-n.left;i=Object(S.f)(i,0,n.right-n.left,0,I);var o=Math.round(i/r);void 0!==o&&y[o]?(p(o),e.handleBarChange(o)):(p(void 0),e.changeToInitialBars())}},onMouseLeave:function(){p(void 0),e.changeToInitialBars()},"aria-hidden":"true",role:"img"},l.a.createElement("svg",{className:"observations-bar-graph__graph",viewBox:"0 0 360 80",role:"img","aria-label":c},l.a.createElement("g",{ref:d,transform:"translate(15,0)",width:I,height:60},E.map((function(e,t){return l.a.createElement("line",{className:"observations-bar-graph__axis-lines",key:t,x1:0,x2:I,y1:e.yCord,y2:e.yCord})})),y.map((function(e,t){if(void 0!==e.height){var a=void 0===g?"url(#barGradient)":"url(#lighterBarGradient)";return l.a.createElement("rect",{key:t,width:e.width,height:e.height,x:e.xPos,y:60-e.height,fill:a})}return l.a.createElement("rect",{key:t,width:e.width,height:60,x:e.xPos,y:0,style:{fill:"url(#missingBarPattern)"}})})),void 0!==_&&l.a.createElement("rect",{key:"markedBar",width:_.width,height:_.height,x:_.xPos,y:60-(_.height?_.height:0),fill:"url(#barGradient)"})),l.a.createElement(A,{labels:x,graphWidth:I,graphHeight:60,totalValues:r})),l.a.createElement("svg",{className:"observations-bar-graph__y-axis",viewBox:"0 0 360 80"},l.a.createElement(B,{graphHeight:60,yAxisLinesAndLabels:E})),void 0!==u&&l.a.createElement(C,{barInfo:u}))},T=a("on8Y"),L=function(e){return l.a.createElement("div",{className:"observations-error-message"},l.a.createElement(T.a,{className:"observations-error-message__icon",id:"icon-error",size:3}),l.a.createElement("div",{className:"observations-error-message__text"},e.errorMessage))},M=a("qw+2"),G=a("b1bT"),H=a("VOO9"),D=function(e){var t,a=Object(o.a)(),n=a.get("terminology/snowDepth/long"),r=a.get("observations/at"),i=a.get("terminology/precipitation/long"),c=a.get("observations/latestPrecipitation"),u=Object(N.c)(a.get("observations/errors/allDataMissing"),i.toLowerCase()),d=a.get("observations/missing"),v=a.get("observations/precipGraphDescription"),m=e.precipitation,g=e.snowDepth,p=e.stationId;void 0!==m&&(t=m.intervals);var f,b=void 0!==t&&t.some((function(e){return"number"==typeof e.value})),E=void 0!==g&&"number"==typeof g.depth,y=void 0!==t&&t.some((function(e){return void 0===e.value})),_=W(m),x=Object(s.useState)(_),w=h()(x,2),I=w[0],k=w[1],C=Object(s.useState)(c),j=h()(C,2),A=j[0],B=j[1],S=function(){B(c),k(_)},T=void 0!==m?m.intervals:void 0,D=void 0!==T?T.map((function(e){return e.value})):[void 0],z=void 0!==T?T.map((function(e){return O.a.create(e.time).format("HH")})):void 0;return!1===b&&!1===E?l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:u})):void 0===I&&void 0===g?l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:u})):l.a.createElement("div",{className:"observations-card-content"},b&&void 0!==I&&void 0!==A&&l.a.createElement("div",{className:"observations-card-content__top",role:"text"},l.a.createElement("div",{className:"observations-card-content__heading"},A),l.a.createElement("div",{className:"observations-card-content__body"},"number"==typeof I&&l.a.createElement(M.a,{value:I,valueClassName:"observations-card-content__observed-value"}),void 0===I&&l.a.createElement(M.a,{value:0}))),E&&void 0!==g&&void 0!==g.time&&void 0!==g.depth&&l.a.createElement("div",{className:"observations-card-content__top",role:"text"},l.a.createElement("div",{className:"observations-card-content__heading"},n," ",r," ",l.a.createElement(H.a,{timestamp:g.time})),l.a.createElement("div",{className:"observations-card-content__body"},l.a.createElement(G.a,{value:g.depth,decimal:!0,valueClassName:"observations-card-content__observed-value"}))),b&&void 0!==T&&void 0!==z&&void 0!==D&&l.a.createElement("div",{className:"observations-card-content__graph","aria-label":v},l.a.createElement(P,{xAxisLabels:z,bars:D,totalValues:T.length,stationId:p,showEvery:2,handleBarChange:function(e){if(void 0!==t){var a=O.a.create(t[e].time).format("HH"),n=O.a.create(t[e].time).add(1,"hours").format("HH"),r=t[e].value;void 0!==r?(B("".concat(i," ").concat(a,"â€“").concat(n)),k(r)):S()}},changeToInitialBars:S,barInfo:(f=[{type:"precipitation",label:i}],y&&f.push({type:"missing",label:d}),f),barPadding:4,description:v})))},W=function(e){return e&&e.intervals?e.intervals.map((function(e){return e.value})).filter(w.b).reduce(w.d,0):0},z=a("hd+n"),V=a("lIgQ"),R=a("1yxP"),U=a("B+SF"),F=a.n(U),X=function(e){var t=e.graphWidth,a=e.graphHeight,n=e.yAxisLabels,r=e.gRef;return l.a.createElement("g",{ref:r,transform:"translate(15,0)",width:t,height:a},n.map((function(e,a){var n=e.yCord;return 0!==e.val?l.a.createElement("line",{className:"observations-line-graph__axis-lines",key:a,x1:0,x2:t,y1:n,y2:n}):l.a.createElement("line",{className:"observations-line-graph__axis-lines observations-line-graph__axis-lines--zero",key:a,x1:0,x2:t,y1:n,y2:n})})))},Y=function(e){var t=e.lineInfo,a=e.legendTextClassName,n=t.filter((function(e){return e.isMissing})).map((function(e,t){return l.a.createElement("div",{key:"".concat(t).concat(e.label),className:"observations-line-graph-legend__item ".concat(a)},l.a.createElement(J,null),e.label)})),r=t.filter((function(e){return!e.isMissing})).map((function(e,t){return l.a.createElement("div",{key:"".concat(t).concat(e.label),className:"observations-line-graph-legend__item ".concat(a)},1===e.color.length&&l.a.createElement(q,{color:e.color[0],key:"".concat(e.color[0],"-lineIcon")}),e.color.length>1&&l.a.createElement(K,{upperColor:e.color[0],bottomColor:e.color[1]}),e.label)}));return l.a.createElement("div",{className:"observations-line-graph-legend"},n,r)};function q(e){return l.a.createElement("svg",{className:"observations-line-graph-legend__line",viewBox:"0 0 10 10"},l.a.createElement("line",{x1:0,x2:10,y1:5,y2:5,stroke:e.color,strokeWidth:1.2}))}function K(e){return l.a.createElement("svg",{className:"observations-line-graph-legend__line",viewBox:"0 0 10 10"},l.a.createElement("line",{x1:0,x2:10,y1:4,y2:4,stroke:e.upperColor,strokeWidth:1.2}),l.a.createElement("line",{x1:0,x2:10,y1:7,y2:7,stroke:e.bottomColor,strokeWidth:1.2}))}function J(){return l.a.createElement("svg",{className:"observations-line-graph-legend__line",viewBox:"0 0 10 10"},l.a.createElement("line",{x1:0,x2:10,y1:5,y2:5,strokeWidth:1.2,strokeDasharray:"2",stroke:"gray",opacity:.3}))}var Q=function(e){var t=e.yCoord,a=e.graphHeight,n=e.graphWidth,r=e.xCoord;return l.a.createElement("g",{transform:"translate(15,0)",width:n,height:a},t.map((function(e,t){return void 0!==r&&void 0!==e.coordinate&&r<=n&&e.coordinate<=a?l.a.createElement("circle",{key:"circle-".concat(t),cx:r,cy:e.coordinate,stroke:e.color,fill:e.color,r:2.5}):null})),null!=r&&l.a.createElement("line",{className:"observations-line-graph__marker-line",x1:r,x2:r,y1:0,y2:a}))},Z=function(e){var t=e.labelsClassName,a=e.graphHeight,n=e.graphWidth,r=e.horizontalTimePoints,i=e.maxLabels,o=r.map((function(e){return O.a.create(e).format("HH")}));o=o.filter((function(e,t){return!(t>0)||e!==o[t-1]}));for(var c=1;o.length/c>i;)c+=1;o=o.map((function(e,t){return t%c==0?e:void 0})).filter(w.b);return l.a.createElement("g",{transform:"translate(15,".concat(a+5,")"),width:n,height:20},o.map((function(e,a){return l.a.createElement("text",{textAnchor:"middle",key:a,dx:5,dy:10,x:(i=e,o=r,c=o.findIndex((function(e){return O.a.create(e).format("HH")===i})),n/(o.length-1)*c),className:"observations-line-graph__x-axis ".concat(t)},e);var i,o,c})))},$=function(e){var t=e.graphHeight,a=e.labels,n=e.unit,r=e.labelsClassName;return l.a.createElement("g",{width:20,height:t,transform:"translate(15,0)"},a.map((function(e,t){var a=e.yCord,i=e.val;return l.a.createElement("text",{textAnchor:"end",key:t,dx:-5,dy:3,y:a,className:"observations-line-graph__y-axis ".concat(r)},"".concat(i).concat(n))})))},ee=a("TYy9"),te=a.n(ee),ae=function(e){var t=e.lines,a=e.yAxisUnit,n=void 0===a?"":a,r=e.uniqueId,i=e.globalColor,o=e.lineInfo,c=e.description,u=e.onlyPositiveYAxisValues,d=void 0!==u&&u,v="black",m=Object(s.useState)(void 0),g=h()(m,2),p=g[0],f=g[1],b=Object(s.useState)([{coordinate:void 0,color:v}]),E=h()(b,2),y=E[0],_=E[1],x=l.a.createRef(),N=function(e){var t=[];if(e.forEach((function(e){e.intervals.forEach((function(e){var a=O.a.create(e.time);if(!t.includes(e.time)){var n=t.findIndex((function(e){return a.isBefore(O.a.create(e))}));n<0?t.push(e.time):t.splice(n,0,e.time)}}))})),t.length<=1&&t[0]){var a=O.a.create(t[0]),n=a.subtract(1,"hour").toString(),r=a.subtract(2,"hour").toString();t.unshift(n),t.unshift(r)}return t}(t),C=r,j="url(#".concat(r,")"),A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};var B=function(e,t){var a=N,n=a.findIndex((function(t){return t===e}));return t?I/(a.length-1)*(n+t):I/(a.length-1)*n};(function(e,t){var a=[];return e.forEach((function(e){e.intervals.length>1?a.push(e.intervals.map((function(e){return e.value})).filter(w.b).reduce(w.c,t)):1===e.intervals.length&&void 0!==e.intervals[0].value?a.push(e.intervals[0].value>0?{min:0,max:e.intervals[0].value}:{min:e.intervals[0].value,max:0}):a.push({min:0,max:0})})),a})(t,A).forEach((function(e){e.min<A.min&&(A.min=e.min),e.max>A.max&&(A.max=e.max)}));var P=Object(S.a)(A,k,100,d);A=P.reduce(w.c,A);var T=P.map((function(e){return{yCord:60-Object(S.c)(e,A,60),val:e}})),L=p,M=y.map((function(e){return{coordinate:void 0!==e.coordinate?60-Object(S.c)(e.coordinate,A,60):void 0,color:e.color}})),G=te()(t.map((function(e){return Object(S.b)(e.intervals,e.color?e.color:j)}))).map((function(e){var t=e.values.map((function(e){if(void 0!==e.value){var t=60-Object(S.c)(e.value,A,60);return[B(e.time),t]}return[]}));return{color:e.color,points:t}})),H=[];t.forEach((function(e){var t=[];e.intervals.forEach((function(e,a,n){void 0===e.value?(void 0!==n[a-1]&&void 0!==n[a-1].value&&t.push([B(n[a-1].time),60-Object(S.c)(n[a-1].value,A,60)]),n.length>0&&a===n.length-1&&t.length>0&&(t.push([B(e.time),t[t.length-1][1]]),H.push(t),t=[])):n.length>0&&a>0&&null==n[a-1].value&&(t.push([B(n[a].time),60-Object(S.c)(e.value,A,60)]),H.push(t),t=[])}))}));var D=i?Object(S.c)(i.limit,A,60):0;return l.a.createElement("div",{className:"observations-line-graph",onMouseMove:function(a){if(null!==x.current){var n=a.clientX,r=function(e,t,a,n,r,i,o){if(null!==i.current){var c=i.current.getBoundingClientRect(),s=e/(r.length-1),l=o-c.left;l=Object(S.f)(l,0,c.right-c.left,0,e);var u=Math.round(l/s),d=u*s,v=t.map((function(e){var t={coordinate:void 0,color:a};return e.intervals.forEach((function(i){if(i.time===r[u]){var o=a;void 0!==e.color?o=e.color:void 0!==n&&void 0!==i.value&&(o=i.value>=0?n.colorAbove:n.colorBelow),t={coordinate:i.value,color:o}}})),t}));return{xCoord:d,yCoord:v,index:u}}return{undefined:void 0}}(I,t,v,i,N,x,n),o=r.xCoord,c=r.yCoord,s=r.index;void 0!==o&&void 0!==c&&void 0!==s&&void 0!==N[s]?(f(o),_(c),e.updateMarkedPoint(N[s])):(f(void 0),_([{coordinate:void 0,color:v}]),e.changeToInitialGraph())}},onMouseLeave:function(){f(void 0),_([{coordinate:void 0,color:v}]),e.changeToInitialGraph()},"aria-hidden":"true",role:"img"},l.a.createElement("svg",{className:"observations-line-graph__graph",viewBox:"0 0 360 80",role:"img","aria-label":c},l.a.createElement("defs",null,i&&l.a.createElement("linearGradient",{id:C,gradientUnits:"userSpaceOnUse",x1:0,x2:0,y1:60,y2:0},l.a.createElement("stop",{offset:"".concat(D/60),stopColor:i.colorBelow}),l.a.createElement("stop",{offset:"".concat(D/60),stopColor:i.colorAbove}))),l.a.createElement(X,{graphWidth:I,graphHeight:60,yAxisLabels:T,gRef:x}),l.a.createElement("g",{ref:x,transform:"translate(15,0)",width:I,height:60},G.map((function(e,t){var a=e.points;return a.length>=3?l.a.createElement("path",{className:"observations-line-graph__path",key:t,d:F.a.svgPath(F.a.points(a)),stroke:e.color,strokeWidth:2}):a.length>=2?l.a.createElement("polyline",{className:"observations-line-graph__line",key:t,stroke:e.color,points:Object(S.e)(a),strokeWidth:2}):1===a.length?l.a.createElement("circle",{key:t,cx:a[0][0],cy:a[0][1],r:2,fill:e.color,stroke:e.color}):null})),H.length>0&&H.map((function(e,t){return l.a.createElement("polyline",{className:"observations-line-graph__missing-line",key:"gray-".concat(t),points:Object(S.e)(e),strokeWidth:2})}))),l.a.createElement(Q,{yCoord:M,xCoord:L,graphHeight:60,graphWidth:I}),l.a.createElement(Z,{graphHeight:60,graphWidth:I,horizontalTimePoints:N,maxLabels:13,labelsClassName:"observations-line-graph__axis-lines-units"})),l.a.createElement("svg",{className:"observations-line-graph__y-axis",viewBox:"0 0 360 80"},l.a.createElement($,{graphHeight:60,labels:T,unit:n,labelsClassName:"observations-line-graph__axis-lines-units"})),o&&l.a.createElement(Y,{lineInfo:o,legendTextClassName:"observations-line-graph__axis-lines-units"}))};var ne=function(e){var t=Object(o.a)(),a=t.get("terminology/temperature/long"),n=t.get("observations/at"),r=t.get("observations/missing"),i=t.get("observations/tempGraphDescription"),c=Object(N.c)(t.get("observations/errors/allDataMissing"),a.toLowerCase()),u=e.temperature,d=e.stationId,v=u?u.intervals:[],m=v.some((function(e){return void 0===e.value})),g=Object(S.d)(v),p=Object(s.useState)(null!=g&&null!=g.value?g.value:void 0),f=h()(p,2),b=f[0],E=f[1],y=Object(s.useState)(g?g.time:void 0),_=h()(y,2),x=_[0],O=_[1],w={colorAbove:R.e,limit:0,colorBelow:V.e},I=[{intervals:v.map((function(e){return{value:e.value,time:e.time}})),useGlobalColor:!0}],k=[];v.find((function(e){return void 0!==e.value&&e.value<0}))&&k.push(V.e),v.find((function(e){return void 0!==e.value&&e.value>=0}))&&k.push(R.e);var C=[{color:k,label:a,isMissing:!1}];m&&C.push({color:["missing"],label:r,isMissing:!0});return null==u?l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:c})):void 0===b||void 0===x?l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:c})):l.a.createElement("div",{className:"observations-card-content"},void 0!==b&&l.a.createElement("div",{className:"observations-card-content__top",role:"text"},l.a.createElement("div",{className:"observations-card-content__heading"},a," ",n," ",l.a.createElement(H.a,{timestamp:x})),l.a.createElement("div",{className:"observations-card-content__body"},l.a.createElement(z.a,{className:"observations-card-content__observed-value",value:parseFloat(b.toFixed(2)),decimal:!0}))),l.a.createElement("div",{className:"observations-card-content__graph","aria-label":i},l.a.createElement(ae,{lineInfo:C,horizontalPoints:v.length,uniqueId:"observationTemperatureGraph-".concat(d),lines:I,yAxisUnit:"Â°",updateMarkedPoint:function(e){var t=v.find((function(t){return t.time===e}));void 0!==t&&void 0!==t.value&&(E(t.value),O(t.time))},changeToInitialGraph:function(){E(g?g.value:void 0),O(g?g.time:void 0)},globalColor:w,padding:1,description:i})))},re=a("gvXC"),ie=function(e){var t=e.wind,a=e.stationId,n=Object(o.a)(),r=n.get("terminology/windSpeed/long"),i=n.get("terminology/windGust/long"),c=n.get("observations/at"),u=n.get("observations/missing"),d=n.get("observations/windGraphDescription"),v=Object(N.c)(n.get("observations/errors/allDataMissing"),r.toLowerCase()),m=t?t.intervals:[],g=m.map((function(e){return{value:e.speed,time:e.time,direction:e.direction}})),p=m.map((function(e){return e.gust?{value:e.gust,time:e.time}:void 0})).filter(w.b),f=Object(S.d)(g),b=Object(S.d)(p),E=void 0!==f,y=void 0!==b,_=E&&g.some((function(e){return void 0===e.value}))||y&&p.some((function(e){return void 0===e.value})),x=Object(s.useState)(f?f.value:void 0),O=h()(x,2),I=O[0],k=O[1],C=Object(s.useState)(f?f.time:void 0),j=h()(C,2),A=j[0],B=j[1],P=Object(s.useState)(f?f.direction:void 0),T=h()(P,2),M=T[0],G=T[1],D=Object(s.useState)(b?b.value:void 0),W=h()(D,2),z=W[0],R=W[1],U=Object(s.useState)(b?b.time:void 0),F=h()(U,2),X=F[0],Y=F[1],q=[],K=[];y&&(K.push({color:[V.g],label:i,isMissing:!1}),q.push({intervals:p,color:V.g})),E&&(K.push({color:[V.h],label:r,isMissing:!1}),q.push({intervals:g,color:V.h})),_&&K.push({color:["missing"],label:u,isMissing:!0});var J=function(){k(f?f.value:void 0),B(f?f.time:void 0),G(f?f.direction:void 0),R(b?b.value:void 0),Y(b?b.time:void 0)};if(void 0===t||void 0===t.intervals)return l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:v}));if(void 0===z&&void 0===I)return l.a.createElement("div",{className:"observations-card-content__error-all-missing"},l.a.createElement(L,{errorMessage:v}));var Q=oe(I,M),Z=oe(z,M);return l.a.createElement("div",{className:"observations-card-content"},void 0!==A&&void 0!==I&&l.a.createElement("div",{className:"observations-card-content__top",role:"text"},l.a.createElement("div",{className:"observations-card-content__heading"},r+" "+c," ",l.a.createElement(H.a,{timestamp:A})),l.a.createElement("div",{className:"observations-card-content__body"},Q)),void 0!==z&&void 0!==X&&l.a.createElement("div",{className:"observations-card-content__top",role:"text"},l.a.createElement("div",{className:"observations-card-content__heading"},i+" "+c," ",l.a.createElement(H.a,{timestamp:X})),l.a.createElement("div",{className:"observations-card-content__body"},Z)),l.a.createElement("div",{className:"observations-card-content__graph","aria-label":d},l.a.createElement(ae,{lineInfo:K,uniqueId:"observationWindGraph-".concat(a),horizontalPoints:m.length,lines:q,updateMarkedPoint:function(e){var t=g.find((function(t){return t.time===e})),a=p.find((function(t){return t.time===e}));void 0!==t&&void 0!==t.value&&void 0!==t.time?(k(t.value),B(t.time),void 0!==t.direction&&G(t.direction),void 0!==a&&(R(a.value),Y(a.time))):void 0!==a&&void 0!==a.time&&void 0!==a.value?(R(a.value),Y(a.time)):J()},changeToInitialGraph:J,padding:1,description:d,onlyPositiveYAxisValues:!0})))};function oe(e,t){return null!=e?null!=t?l.a.createElement(re.a,{value:e,decimal:!0,displayArrow:!0,direction:t,valueClassName:"observations-card-content__observed-value"}):l.a.createElement(re.a,{value:e,decimal:!0,valueClassName:"observations-card-content__observed-value"}):l.a.createElement("div",null)}var ce=function(e){var t=e.observationStation,a=e.currentLocationName,n=t.temperature,r=t.precipitation,i=t.wind,c=t.supported,u=t.supported.includes("temperature")?"temperature":"precipitation",d=Object(o.a)(),v=Object(s.useState)(u),m=h()(v,2),g=m[0],p=m[1],f=[c.includes("temperature")&&l.a.createElement("div",{key:"temperature",className:"observations-card__view observed-temperature"},l.a.createElement(ne,{temperature:n,stationId:t.stationId})),c.includes("precipitation")&&l.a.createElement("div",{key:"precipitation",className:"observations-card__view observed-precipitation"},l.a.createElement(D,{precipitation:r,stationId:t.stationId,snowDepth:t.snowDepth})),c.includes("wind")&&l.a.createElement("div",{key:"wind",className:"observations-card__view observed-wind"},l.a.createElement(ie,{wind:i,stationId:t.stationId}))],O=c.map((function(e){return{type:e,displayName:d.get("terminology/".concat(e,"/long"))}})),w=Object(E.a)({localeCode:d.get("code"),pageId:"statistics",subpageId:"graph",locationId:t.location.id,locationPath:t.location.urlPath}),I=t.location.isNorway?l.a.createElement("a",{href:w},t.location.name):t.location.name,k=t.location.elevation?"".concat(Object(N.c)(d.get("units/elevation"),t.location.elevation)," ").concat(d.get("units/metersAboveSealevel/short"),", "):"",C=Object(x.a)({meters:t.distance,from:a,locale:d}),j="".concat(k).concat(C);return l.a.createElement(y.a,{type:"card"},l.a.createElement(y.b,{title:I,subtitle:j}),l.a.createElement(b.a,null,l.a.createElement(_.a,{onChangeView:function(e){p(e.type)},activeViewType:g,views:O,className:"observations-card__view-switcher"}),l.a.createElement("div",null,f)))};a("ckkT");a.d(t,"UnconnectedObservationsCards",(function(){return se})),a.d(t,"ObservationsCards",(function(){return le}));var se=function(e){var t=e.observationStations,a=e.currentLocationName,n=Object(o.a)();if(!t||0===t.length)return null;var c=t.filter((function(e){return e.supported.length>0})).map((function(e){return l.a.createElement(ce,{key:e.location.id,currentLocationName:a,observationStation:e})}));return l.a.createElement("div",{className:"observations-cards"},l.a.createElement(i.a,null),l.a.createElement(g.a,{level:"h2",typography:"header-2"},n.get("observations/title")),l.a.createElement(r.a,{length:3,trackingId:"observations-cards"},c))},le=Object(n.a)(Object(u.b)((function(e,t){var a=t.currentPage,n=Object(c.a)(a.details.params);return{observationStations:m(e,n),currentLocationName:Object(d.h)(e,n)}}))(se));t.default=le},XGnz:function(e,t,a){var n=a("CH3K"),r=a("BiGR");e.exports=function e(t,a,i,o,c){var s=-1,l=t.length;for(i||(i=r),c||(c=[]);++s<l;){var u=t[s];a>0&&i(u)?a>1?e(u,a-1,i,o,c):n(c,u):o||(c[c.length]=u)}return c}},Z0cm:function(e,t){var a=Array.isArray;e.exports=a},a2cP:function(e,t,a){},b1bT:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("Xr/R"),r=a("TSYQ"),i=a.n(r),o=a("Amfr"),c=a("FBcu"),s=a("wXRo"),l=a("q1tI"),u=a.n(l),d=(a("tkVX"),function(e){var t=e.value,a=e.className,r=e.valueClassName,l=e.unitClassName,d=e.displayUnit,v=void 0===d||d,m=e.decimal,g=void 0===m||m,p=e.renderScreenReaderLabel,h=void 0===p||p,f=Object(c.a)(),b=Object(s.a)(),E=n.a.units.snowDepth,y=f.get("units/".concat(E,"/short")),_=f.get("units/".concat(E,"/long")),x=f.get("terminology/snowDepth/long"),N=function(e){var t=e.value,a=e.decimal;if(!1===(void 0===a||a))return Math.round(t);return t}({value:t,decimal:g});return u.a.createElement("span",{className:i()("snow-depth",a),role:"text"},h&&u.a.createElement("span",{className:"nrk-sr"},x),u.a.createElement("span",{className:i()("snow-depth__value",r)},Object(o.b)(N,b,g))," ",v&&u.a.createElement("abbr",{className:i()("snow-depth__unit",l),title:_},y))})},ckkT:function(e,t,a){},i74f:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("TWl/"),r=a.n(n),i=a("Amfr"),o=a("jJcU");function c(e){var t=e.meters,a=e.from,n=e.locale,c=r.a.round(t/1e3,1),s=Object(i.b)(c,n.get("code"));return Object(o.c)(n.get("grammar/kmDistanceFrom"),s,a)}},lIgQ:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"i",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return m}));var n="#0071f2",r="#00aafa",i="#aa00f2",o="#686a6c",c="#26292a",s="#8500bd",l="#8500bd",u="#5dca0a",d="#ffe600",v="#c60000",m="#aa00f2"},tkVX:function(e,t,a){}}]);
//# sourceMappingURL=ObservationsCards-ObservationsCards.f10fe8f26d3b17675602.js.map